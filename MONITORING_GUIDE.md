# 모니터링 및 알림 시스템 가이드

## 개요
Singapore News Scraper는 이메일 기반 모니터링 및 알림 시스템을 제공합니다.

## 기능

### 1. 실시간 알림
- **성공 알림**: 스크래핑이 성공적으로 완료됨
- **실패 알림**: 스크래핑 중 오류 발생
- **경고 알림**: 스크래핑은 성공했으나 수집된 기사가 없음

### 2. 정기 리포트
- **일일 리포트**: 매일 오후 11시 발송
- **주간 리포트**: 매주 일요일 발송

## 설정 방법

### 1. GitHub Secrets 설정
```
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
```

**Gmail 앱 비밀번호 생성:**
1. Google 계정 설정 → 보안
2. 2단계 인증 활성화
3. 앱 비밀번호 생성
4. "메일" 선택 후 생성된 16자리 비밀번호 사용

### 2. 대시보드에서 설정
1. 설정 탭 → 모니터링 섹션
2. "모니터링 활성화" 체크
3. 수신자 이메일 입력 (쉼표로 구분)
4. 알림 조건 선택
5. 테스트 이메일 발송으로 확인

### 3. Vercel 환경 변수
```
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_HOST=smtp.gmail.com (선택사항)
SMTP_PORT=587 (선택사항)
```

## 알림 내용

### 성공 알림
- 수집된 기사 수
- 그룹별 요약
- 실행 시간
- 스크래핑 방법

### 실패 알림
- 오류 유형
- 오류 메시지
- 스택 트레이스
- 실행 시간

### 경고 알림
- 확인된 사이트 수
- 필터 설정
- 권장 조치사항

## 모니터링 로그

모든 실행 결과는 `data/monitoring/` 디렉토리에 월별로 저장됩니다:
- `log_202501.json`: 2025년 1월 로그
- 최근 100개 기록만 유지

## 문제 해결

### 이메일이 오지 않는 경우
1. SMTP 설정 확인
2. 스팸 폴더 확인
3. 앱 비밀번호 재생성
4. 테스트 이메일로 연결 확인

### Gmail 설정
1. "보안 수준이 낮은 앱 액세스" 대신 앱 비밀번호 사용
2. IMAP 활성화 불필요 (SMTP만 사용)

### 다른 이메일 제공자
- **Outlook**: smtp.office365.com:587
- **Yahoo**: smtp.mail.yahoo.com:587
- **Naver**: smtp.naver.com:587

## 보안 주의사항
- SMTP 비밀번호는 환경 변수로만 관리
- 실제 계정 비밀번호 사용 금지
- 앱 비밀번호 또는 API 키 사용 권장